{"version":3,"file":"static/webpack/static/development/pages/post.js.3b0a7416add32f30dd6f.hot-update.js","sources":["webpack:///./components/TooltipLink.tsx"],"sourcesContent":["import { fromEntries } from \"../utils/content\"\nimport { Elt } from \"pandoc-filter\"\nimport Pandoc, { attrProps } from \"./Pandoc\"\nimport css from \"styled-jsx/css\"\n/**\n * if link is a citation link, then add a tooltip describing the link target\n */\nexport function TooltipLink({\n\tc: [[id, clazz, kv], inline, [url, title]],\n}: Elt<\"Link\">) {\n\tconst attrs = fromEntries(kv)\n\tif (attrs[\"cite-meta\"]) {\n\t\tconst m = JSON.parse(attrs[\"cite-meta\"])\n\t\treturn (\n\t\t\t<a\n\t\t\t\thref={url}\n\t\t\t\ttitle={title || undefined}\n\t\t\t\tid={id}\n\t\t\t\tclassName={clazz.join(\" \") + \" tooltip\"}\n\t\t\t>\n\t\t\t\t<style jsx>{style}</style>\n\t\t\t\t<Pandoc ele={inline} />\n\t\t\t\t<span className=\"tooltip-content\">\n\t\t\t\t\t<b>{m.shorttitle || m.title}</b>\n\t\t\t\t\t{m.abstract && <p>{m.abstract}</p>}\n\t\t\t\t\t<i className=\"arr\" />\n\t\t\t\t</span>\n\t\t\t</a>\n\t\t)\n\t}\n\treturn (\n\t\t<a\n\t\t\thref={url}\n\t\t\ttitle={title || undefined}\n\t\t\t{...attrProps([id, clazz, kv])}\n\t\t>\n\t\t\t<Pandoc ele={inline} />\n\t\t</a>\n\t)\n}\n\nconst style = css`\n\t.tooltip {\n\t\tposition: relative;\n\n\t\t.tooltip-content {\n\t\t\tmin-width: 300px;\n\t\t\t/*max-width:400px;*/\n\t\t\ttop: calc(100% + 12px);\n\t\t\tleft: 50%;\n\t\t\ttransform: translate(-50%, 0);\n\t\t\tpadding: 20px;\n\t\t\tcolor: #666666;\n\t\t\tbackground-color: #eeeeee;\n\t\t\tfont-weight: normal;\n\t\t\tfont-size: 13px;\n\t\t\tborder-radius: 8px;\n\t\t\tposition: absolute;\n\t\t\tz-index: 99999999;\n\t\t\tbox-sizing: border-box;\n\t\t\tbox-shadow: 0 1px 8px rgba(0, 0, 0, 0.5);\n\t\t\tdisplay: none;\n\t\t\ti.arr {\n\t\t\t\tposition: absolute;\n\t\t\t\tbottom: 100%;\n\t\t\t\tleft: 50%;\n\t\t\t\tmargin-left: -12px;\n\t\t\t\twidth: 24px;\n\t\t\t\theight: 12px;\n\t\t\t\toverflow: hidden;\n\n\t\t\t\t&::after {\n\t\t\t\t\tcontent: \"\";\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\twidth: 12px;\n\t\t\t\t\theight: 12px;\n\t\t\t\t\tleft: 50%;\n\t\t\t\t\ttransform: translate(-50%, 50%) rotate(45deg);\n\t\t\t\t\tbackground-color: #eeeeee;\n\t\t\t\t\tbox-shadow: 0 1px 8px rgba(0, 0, 0, 0.5);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t&:hover .tooltip-content {\n\t\t\tdisplay: block;\n\t\t}\n\t}\n`\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAEA;AACA;AACA;;;AAGA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AAEA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAOA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAIA;AACA;AAAA;AAEA;AACA;AAFA;AAKA;AAAA;AAGA;AAEA;;;;;A","sourceRoot":""}