<!DOCTYPE html><html><head><meta charSet="utf-8"/><title>Hosting SQLite databases on Github Pages - (or any static file hoster) - phiresky&#x27;s blog</title><meta name="description" content="I was writing a tiny website to display statistics of how much sponsored content a Youtube creator has over time when I noticed that I often write a small tool as a website that queries some data from a database and then displays it in a graph, a table or similar. But if you want to use a database, "/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="alternate" type="application/rss+xml" title="RSS feed of phiresky&#x27;s blog" href="https://phiresky.github.io/blog/rss.xml"/><link rel="alternate" type="application/atom+xml" title="Atom feed of phiresky&#x27;s blog" href="https://phiresky.github.io/blog/atom.xml"/><link rel="alternate" type="application/json" title="JSON feed of phiresky&#x27;s blog" href="https://phiresky.github.io/blog/feed.json"/><style>
          body {
            font-family: -apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;
          }
      </style><meta name="next-head-count" content="8"/><link rel="preload" href="/blog/_next/static/css/3acfbf97185f61973398.css" as="style"/><link rel="stylesheet" href="/blog/_next/static/css/3acfbf97185f61973398.css" data-n-g=""/><link rel="preload" href="/blog/_next/static/css/33e6e851320f34367258.css" as="style"/><link rel="stylesheet" href="/blog/_next/static/css/33e6e851320f34367258.css" data-n-g=""/><link rel="preload" href="/blog/_next/static/css/5010e8538e0af805e524.css" as="style"/><link rel="stylesheet" href="/blog/_next/static/css/5010e8538e0af805e524.css" data-n-p=""/><noscript data-n-css=""></noscript><link rel="preload" href="/blog/_next/static/chunks/d9daaaae.44a96f54a4d072574e74.js" as="script"/><link rel="preload" href="/blog/_next/static/chunks/64.6dbe43f639fbac787b2a.js" as="script"/><link rel="preload" href="/blog/_next/static/chunks/422.2192f719644ccb1c7aab.js" as="script"/><link rel="preload" href="/blog/_next/static/chunks/webpack-1524fbf28e610240b523.js" as="script"/><link rel="preload" href="/blog/_next/static/chunks/framework-f2b6a0e2c4347cd67771.js" as="script"/><link rel="preload" href="/blog/_next/static/chunks/commons-020e121c3d1a2701efcc.js" as="script"/><link rel="preload" href="/blog/_next/static/chunks/main-474bf01cc279f00c3383.js" as="script"/><link rel="preload" href="/blog/_next/static/chunks/pages/_app-1c7147ccd2d924ac2939.js" as="script"/><link rel="preload" href="/blog/_next/static/chunks/247-03c5f887de49cc28342f.js" as="script"/><link rel="preload" href="/blog/_next/static/chunks/601-fc839a56364e60ec4177.js" as="script"/><link rel="preload" href="/blog/_next/static/chunks/pages/%5Byear%5D/%5Bpost%5D-a5cad0c308dc8201870a.js" as="script"/></head><body><div id="__next"><div class="jsx-2809278127"><div><main class="lh-copy"><div class="relative tc bg-dark-gray"><div class="mw7 center white"><div class="pv4"><h1 class="f2 normal lh-title ma0 pa0"><a class="white no-underline" href="/blog/">phiresky&#x27;s blog</a></h1><h4 class="normal o-70 ma0 pt2 pb3 ph1">About my personal projects and other stuff</h4><div><a href="https://phiresky.github.io/blog/" class="dib f6 white no-underline pa1 ma1">Blog</a><a href="https://github.com/phiresky/" class="dib f6 white no-underline pa1 ma1">GitHub</a></div></div></div></div><div class="jsx-2809278127 content center mw7 pa3 pa4-ns"><h1 class="jsx-2809278127 mt0 lh-title mb1">Hosting SQLite databases on Github Pages</h1><p class="jsx-2809278127 mt0">(or any static file hoster)</p><small class="db ttu o-40"><time dateTime="2021-04-17T00:00:00.000Z">Apr 17, 2021</time></small><p>I was writing <a href="https://phiresky.github.io/youtube-sponsorship-stats/?uploader=Adam+Ragusea" attrs="[object Object]">a tiny website to display statistics of how much sponsored content a Youtube creator has over time</a> when I noticed that I often write a small tool as a website that queries some data from a database and then displays it in a graph, a table or similar. But if you want to use a database, you either need to write a backend (which you then need to host forever) or download the whole dataset into the browser (which is not so great when the dataset is more than 10MB).</p><p>In the past when I’ve used a backend server for these small side projects at some point some API goes down or a key expires or I forget about the backend and stopped paying for whatever VPS it was on. Then when I revisit it years later, I’m annoyed that it’s gone and curse myself for relying on some external service (or myself caring over a longer period of time).</p><p>Hosting a static website is much easier in comparison to a backend server - there’s many free and reliable options (like GitHub or GitLab Pages), and it scales to basically infinity without any effort.</p><p>So I wrote a tool to be able to use an SQL database in a statically hosted website!</p><p>Here’s a demo using the <a href="https://github.com/phiresky/world-development-indicators-sqlite/" attrs="[object Object]">World Development Indicators dataset</a> - a dataset with 6 tables and over 8 million rows (600MByte total).</p><div><pre style="color:#ccc;background:#2d2d2d;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-sql" style="color:#ccc;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token token" style="color:#cc99cd">select</span><span> country_code</span><span class="token token" style="color:#ccc">,</span><span> long_name </span><span class="token token" style="color:#cc99cd">from</span><span> wdi_country </span><span class="token token" style="color:#cc99cd">limit</span><span> </span><span class="token token" style="color:#f08d49">3</span><span class="token token" style="color:#ccc">;</span></code></pre><button>Run</button> <button>Edit</button><pre style="color:#ccc;background:#2d2d2d;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-json" style="color:#ccc;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"></code></pre><button>Show page reads (<!-- -->0<!-- -->)</button></div><div><pre style="color:#ccc;background:#2d2d2d;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-sql" style="color:#ccc;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token token" style="color:#cc99cd">select</span><span> </span><span class="token token" style="color:#67cdcc">*</span><span> </span><span class="token token" style="color:#cc99cd">from</span><span> dbstat </span><span class="token token" style="color:#cc99cd">where</span><span> pageno</span><span class="token token" style="color:#67cdcc">=</span><span class="token token" style="color:#f08d49">123</span><span class="token token" style="color:#ccc">;</span></code></pre><button>Run</button> <button>Edit</button><pre style="color:#ccc;background:#2d2d2d;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-json" style="color:#ccc;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"></code></pre></div><p>Note that this website is 100% hosted on GitHub Pages - which is a static file hoster.</p><p>So how do you use a database on a static</p><div><pre style="color:#ccc;background:#2d2d2d;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-sql" style="color:#ccc;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token token" style="color:#cc99cd">select</span><span> indicator_code </span><span class="token token" style="color:#cc99cd">from</span><span> wdi_series </span><span class="token token" style="color:#cc99cd">where</span><span> indicator_name </span><span class="token token" style="color:#67cdcc">=</span><span> </span><span class="token token" style="color:#7ec699">&#x27;Literacy rate, youth total (% of people ages 15-24)&#x27;</span></code></pre><button>Run</button> <button>Edit</button><pre style="color:#ccc;background:#2d2d2d;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-json" style="color:#ccc;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"></code></pre><button>Show page reads (<!-- -->0<!-- -->)</button></div><p>A more complex query:</p><div><pre style="color:#ccc;background:#2d2d2d;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-sql" style="color:#ccc;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token token" style="color:#cc99cd">with</span><span> newest_data </span><span class="token token" style="color:#cc99cd">as</span><span> </span><span class="token token" style="color:#ccc">(</span><span>
</span><span>  </span><span class="token token" style="color:#cc99cd">select</span><span> country_code</span><span class="token token" style="color:#ccc">,</span><span> indicator_code</span><span class="token token" style="color:#ccc">,</span><span> </span><span class="token token" style="color:#f08d49">max</span><span class="token token" style="color:#ccc">(</span><span class="token token" style="color:#cc99cd">year</span><span class="token token" style="color:#ccc">)</span><span> </span><span class="token token" style="color:#cc99cd">as</span><span> </span><span class="token token" style="color:#cc99cd">year</span><span> </span><span class="token token" style="color:#cc99cd">from</span><span> wdi_data
</span><span>  </span><span class="token token" style="color:#cc99cd">where</span><span>
</span><span>    indicator_code </span><span class="token token" style="color:#67cdcc">=</span><span> </span><span class="token token" style="color:#ccc">(</span><span class="token token" style="color:#cc99cd">select</span><span> indicator_code </span><span class="token token" style="color:#cc99cd">from</span><span> wdi_series </span><span class="token token" style="color:#cc99cd">where</span><span> indicator_name </span><span class="token token" style="color:#67cdcc">=</span><span> </span><span class="token token" style="color:#7ec699">&#x27;Literacy rate, youth total (% of people ages 15-24)&#x27;</span><span class="token token" style="color:#ccc">)</span><span>
</span><span>    </span><span class="token token" style="color:#67cdcc">and</span><span> </span><span class="token token" style="color:#cc99cd">year</span><span> </span><span class="token token" style="color:#67cdcc">&gt;</span><span> </span><span class="token token" style="color:#f08d49">2010</span><span>
</span><span>    </span><span class="token token" style="color:#cc99cd">group</span><span> </span><span class="token token" style="color:#cc99cd">by</span><span> country_code
</span><span></span><span class="token token" style="color:#ccc">)</span><span>
</span><span></span><span class="token token" style="color:#cc99cd">select</span><span> c</span><span class="token token" style="color:#ccc">.</span><span>long_name </span><span class="token token" style="color:#cc99cd">as</span><span> country</span><span class="token token" style="color:#ccc">,</span><span> printf</span><span class="token token" style="color:#ccc">(</span><span class="token token" style="color:#7ec699">&#x27;%.1f %%&#x27;</span><span class="token token" style="color:#ccc">,</span><span> </span><span class="token token" style="color:#cc99cd">value</span><span class="token token" style="color:#ccc">)</span><span> </span><span class="token token" style="color:#cc99cd">as</span><span> </span><span class="token token" style="color:#7ec699">&quot;Youth Literacy Rate&quot;</span><span>
</span><span></span><span class="token token" style="color:#cc99cd">from</span><span> wdi_data</span><span class="token token" style="color:#ccc">,</span><span> newest_data
</span><span>  </span><span class="token token" style="color:#cc99cd">join</span><span> wdi_country c </span><span class="token token" style="color:#cc99cd">on</span><span> c</span><span class="token token" style="color:#ccc">.</span><span>country_code </span><span class="token token" style="color:#67cdcc">=</span><span> wdi_data</span><span class="token token" style="color:#ccc">.</span><span>country_code
</span><span></span><span class="token token" style="color:#cc99cd">where</span><span> wdi_data</span><span class="token token" style="color:#ccc">.</span><span>indicator_code </span><span class="token token" style="color:#67cdcc">=</span><span> newest_data</span><span class="token token" style="color:#ccc">.</span><span>indicator_code </span><span class="token token" style="color:#67cdcc">and</span><span> wdi_data</span><span class="token token" style="color:#ccc">.</span><span>country_code </span><span class="token token" style="color:#67cdcc">=</span><span> newest_data</span><span class="token token" style="color:#ccc">.</span><span>country_code </span><span class="token token" style="color:#67cdcc">and</span><span> wdi_data</span><span class="token token" style="color:#ccc">.</span><span class="token token" style="color:#cc99cd">year</span><span> </span><span class="token token" style="color:#67cdcc">=</span><span> newest_data</span><span class="token token" style="color:#ccc">.</span><span class="token token" style="color:#cc99cd">year</span><span>
</span><span></span><span class="token token" style="color:#cc99cd">order</span><span> </span><span class="token token" style="color:#cc99cd">by</span><span> </span><span class="token token" style="color:#cc99cd">value</span><span> </span><span class="token token" style="color:#cc99cd">asc</span><span> </span><span class="token token" style="color:#cc99cd">limit</span><span> </span><span class="token token" style="color:#f08d49">20</span></code></pre><button>Run</button> <button>Edit</button><pre style="color:#ccc;background:#2d2d2d;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-json" style="color:#ccc;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"></code></pre><button>Show page reads (<!-- -->0<!-- -->)</button></div><div><pre style="color:#ccc;background:#2d2d2d;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-sql" style="color:#ccc;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token token" style="color:#cc99cd">select</span><span> </span><span class="token token" style="color:#f08d49">sum</span><span class="token token" style="color:#ccc">(</span><span>length</span><span class="token token" style="color:#ccc">(</span><span>long_definition</span><span class="token token" style="color:#ccc">)</span><span class="token token" style="color:#ccc">)</span><span> </span><span class="token token" style="color:#cc99cd">from</span><span> wdi_series</span><span class="token token" style="color:#ccc">;</span></code></pre><button>Run</button> <button>Edit</button><pre style="color:#ccc;background:#2d2d2d;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-json" style="color:#ccc;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"></code></pre><button>Show page reads (<!-- -->0<!-- -->)</button></div><div><pre style="color:#ccc;background:#2d2d2d;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-sql" style="color:#ccc;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token token" style="color:#cc99cd">select</span><span> snippet</span><span class="token token" style="color:#ccc">(</span><span>indicator_search</span><span class="token token" style="color:#ccc">,</span><span> </span><span class="token token" style="color:#67cdcc">-</span><span class="token token" style="color:#f08d49">1</span><span class="token token" style="color:#ccc">,</span><span> </span><span class="token token" style="color:#7ec699">&#x27;[[&#x27;</span><span class="token token" style="color:#ccc">,</span><span> </span><span class="token token" style="color:#7ec699">&#x27;]]&#x27;</span><span class="token token" style="color:#ccc">,</span><span> </span><span class="token token" style="color:#7ec699">&#x27; [...] &#x27;</span><span class="token token" style="color:#ccc">,</span><span> </span><span class="token token" style="color:#f08d49">32</span><span class="token token" style="color:#ccc">)</span><span> </span><span class="token token" style="color:#cc99cd">as</span><span> snippet</span><span class="token token" style="color:#ccc">,</span><span> </span><span class="token token" style="color:#67cdcc">*</span><span> </span><span class="token token" style="color:#cc99cd">from</span><span> indicator_search
</span><span></span><span class="token token" style="color:#cc99cd">where</span><span> indicator_search </span><span class="token token" style="color:#cc99cd">match</span><span> </span><span class="token token" style="color:#7ec699">&#x27;educatio*&#x27;</span><span>
</span><span></span><span class="token token" style="color:#cc99cd">order</span><span> </span><span class="token token" style="color:#cc99cd">by</span><span> rank
</span><span></span><span class="token token" style="color:#cc99cd">limit</span><span> </span><span class="token token" style="color:#f08d49">10</span></code></pre><button>Run</button> <button>Edit</button><pre style="color:#ccc;background:#2d2d2d;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-json" style="color:#ccc;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"></code></pre><button>Show page reads (<!-- -->0<!-- -->)</button></div><div><pre style="color:#ccc;background:#2d2d2d;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-sql" style="color:#ccc;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token token" style="color:#cc99cd">insert</span><span> </span><span class="token token" style="color:#cc99cd">into</span><span> dom </span><span class="token token" style="color:#ccc">(</span><span>parent</span><span class="token token" style="color:#ccc">,</span><span> tagName</span><span class="token token" style="color:#ccc">,</span><span> textContent</span><span class="token token" style="color:#ccc">)</span><span>
</span><span>    </span><span class="token token" style="color:#cc99cd">select</span><span> </span><span class="token token" style="color:#7ec699">&#x27;ul#outtable1&#x27;</span><span class="token token" style="color:#ccc">,</span><span> </span><span class="token token" style="color:#7ec699">&#x27;li&#x27;</span><span class="token token" style="color:#ccc">,</span><span> long_name
</span><span>    </span><span class="token token" style="color:#cc99cd">from</span><span> wdi_country</span></code></pre><button>Run</button> <button>Edit</button><pre style="color:#ccc;background:#2d2d2d;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-json" style="color:#ccc;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"></code></pre></div><p>Output:</p><div><ul id="outtable1"></div><div></ul></div></div><footer class="center w5 f6 tc mt4"><p><a href="https://github.com/phiresky/blog/blob/master/posts/2021/hosting-sqlite-databases-on-github-pages.md">View post source on GitHub</a></p></footer><div><script>/* yes, I know... fite me */
  (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
  function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
  e=o.createElement(i);r=o.getElementsByTagName(i)[0];
  e.src='https://www.google-analytics.com/analytics.js';
  r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
  ga('create','UA-39197996-3','auto');ga('send','pageview');
</script></div></main></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"filename":"2021/hosting-sqlite-databases-on-github-pages.md","frontmatter":{"csl":"../ieee-with-url.csl","date":"2021-04-17","hidden":true,"references":[],"subtitle":"(or any static file hoster)","title":"Hosting SQLite databases on Github Pages","url2cite-link-output":"sup"},"preview":"I was writing a tiny website to display statistics of how much sponsored content a Youtube creator has over time when I noticed that I often write a small tool as a website that queries some data from a database and then displays it in a graph, a table or similar. But if you want to use a database, ","content_ast":[{"t":"Para","c":[{"t":"Str","c":"I was writing "},{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"a tiny website to display statistics of how much sponsored content a Youtube creator has over time"}],["https://phiresky.github.io/youtube-sponsorship-stats/?uploader=Adam+Ragusea",""]]},{"t":"Str","c":" when I noticed that I often write a small tool as a website that queries some data from a database and then displays it in a graph, a table or similar. But if you want to use a database, you either need to write a backend (which you then need to host forever) or download the whole dataset into the browser (which is not so great when the dataset is more than 10MB)."}]},{"t":"Para","c":[{"t":"Str","c":"In the past when I’ve used a backend server for these small side projects at some point some API goes down or a key expires or I forget about the backend and stopped paying for whatever VPS it was on. Then when I revisit it years later, I’m annoyed that it’s gone and curse myself for relying on some external service (or myself caring over a longer period of time)."}]},{"t":"Para","c":[{"t":"Str","c":"Hosting a static website is much easier in comparison to a backend server - there’s many free and reliable options (like GitHub or GitLab Pages), and it scales to basically infinity without any effort."}]},{"t":"Para","c":[{"t":"Str","c":"So I wrote a tool to be able to use an SQL database in a statically hosted website!"}]},{"t":"Para","c":[{"t":"Str","c":"Here’s a demo using the "},{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"World Development Indicators dataset"}],["https://github.com/phiresky/world-development-indicators-sqlite/",""]]},{"t":"Str","c":" - a dataset with 6 tables and over 8 million rows (600MByte total)."}]},{"t":"CodeBlock","c":[["",["sqlite-httpvfs-demo","autorun","diffstat","logPageReads"],[]],"select country_code, long_name from wdi_country limit 3;"]},{"t":"CodeBlock","c":[["",["sqlite-httpvfs-demo"],[]],"select * from dbstat where pageno=123;"]},{"t":"Para","c":[{"t":"Str","c":"Note that this website is 100% hosted on GitHub Pages - which is a static file hoster."}]},{"t":"Para","c":[{"t":"Str","c":"So how do you use a database on a static"}]},{"t":"CodeBlock","c":[["",["sqlite-httpvfs-demo","diffstat","logPageReads"],[]],"select indicator_code from wdi_series where indicator_name = 'Literacy rate, youth total (% of people ages 15-24)'"]},{"t":"Para","c":[{"t":"Str","c":"A more complex query:"}]},{"t":"CodeBlock","c":[["",["sqlite-httpvfs-demo","diffstat","logPageReads"],[]],"with newest_data as (\n  select country_code, indicator_code, max(year) as year from wdi_data\n  where\n    indicator_code = (select indicator_code from wdi_series where indicator_name = 'Literacy rate, youth total (% of people ages 15-24)')\n    and year \u003e 2010\n    group by country_code\n)\nselect c.long_name as country, printf('%.1f %%', value) as \"Youth Literacy Rate\"\nfrom wdi_data, newest_data\n  join wdi_country c on c.country_code = wdi_data.country_code\nwhere wdi_data.indicator_code = newest_data.indicator_code and wdi_data.country_code = newest_data.country_code and wdi_data.year = newest_data.year\norder by value asc limit 20"]},{"t":"CodeBlock","c":[["",["sqlite-httpvfs-demo","diffstat","logPageReads"],[]],"select sum(length(long_definition)) from wdi_series;"]},{"t":"CodeBlock","c":[["",["sqlite-httpvfs-demo","diffstat","logPageReads"],[]],"select snippet(indicator_search, -1, '[[', ']]', ' [...] ', 32) as snippet, * from indicator_search\nwhere indicator_search match 'educatio*'\norder by rank\nlimit 10"]},{"t":"CodeBlock","c":[["",["sqlite-httpvfs-demo"],[]],"insert into dom (parent, tagName, textContent)\n    select 'ul#outtable1', 'li', long_name\n    from wdi_country"]},{"t":"Para","c":[{"t":"Str","c":"Output:"}]},{"t":"RawBlock","c":["html","\u003cul id=\"outtable1\"\u003e"]},{"t":"RawBlock","c":["html","\u003c/ul\u003e"]}],"default":{"filename":"2021/hosting-sqlite-databases-on-github-pages.md","frontmatter":{"csl":"../ieee-with-url.csl","date":"2021-04-17","hidden":true,"references":[],"subtitle":"(or any static file hoster)","title":"Hosting SQLite databases on Github Pages","url2cite-link-output":"sup"},"preview":"I was writing a tiny website to display statistics of how much sponsored content a Youtube creator has over time when I noticed that I often write a small tool as a website that queries some data from a database and then displays it in a graph, a table or similar. But if you want to use a database, ","content_ast":[{"t":"Para","c":[{"t":"Str","c":"I was writing "},{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"a tiny website to display statistics of how much sponsored content a Youtube creator has over time"}],["https://phiresky.github.io/youtube-sponsorship-stats/?uploader=Adam+Ragusea",""]]},{"t":"Str","c":" when I noticed that I often write a small tool as a website that queries some data from a database and then displays it in a graph, a table or similar. But if you want to use a database, you either need to write a backend (which you then need to host forever) or download the whole dataset into the browser (which is not so great when the dataset is more than 10MB)."}]},{"t":"Para","c":[{"t":"Str","c":"In the past when I’ve used a backend server for these small side projects at some point some API goes down or a key expires or I forget about the backend and stopped paying for whatever VPS it was on. Then when I revisit it years later, I’m annoyed that it’s gone and curse myself for relying on some external service (or myself caring over a longer period of time)."}]},{"t":"Para","c":[{"t":"Str","c":"Hosting a static website is much easier in comparison to a backend server - there’s many free and reliable options (like GitHub or GitLab Pages), and it scales to basically infinity without any effort."}]},{"t":"Para","c":[{"t":"Str","c":"So I wrote a tool to be able to use an SQL database in a statically hosted website!"}]},{"t":"Para","c":[{"t":"Str","c":"Here’s a demo using the "},{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"World Development Indicators dataset"}],["https://github.com/phiresky/world-development-indicators-sqlite/",""]]},{"t":"Str","c":" - a dataset with 6 tables and over 8 million rows (600MByte total)."}]},{"t":"CodeBlock","c":[["",["sqlite-httpvfs-demo","autorun","diffstat","logPageReads"],[]],"select country_code, long_name from wdi_country limit 3;"]},{"t":"CodeBlock","c":[["",["sqlite-httpvfs-demo"],[]],"select * from dbstat where pageno=123;"]},{"t":"Para","c":[{"t":"Str","c":"Note that this website is 100% hosted on GitHub Pages - which is a static file hoster."}]},{"t":"Para","c":[{"t":"Str","c":"So how do you use a database on a static"}]},{"t":"CodeBlock","c":[["",["sqlite-httpvfs-demo","diffstat","logPageReads"],[]],"select indicator_code from wdi_series where indicator_name = 'Literacy rate, youth total (% of people ages 15-24)'"]},{"t":"Para","c":[{"t":"Str","c":"A more complex query:"}]},{"t":"CodeBlock","c":[["",["sqlite-httpvfs-demo","diffstat","logPageReads"],[]],"with newest_data as (\n  select country_code, indicator_code, max(year) as year from wdi_data\n  where\n    indicator_code = (select indicator_code from wdi_series where indicator_name = 'Literacy rate, youth total (% of people ages 15-24)')\n    and year \u003e 2010\n    group by country_code\n)\nselect c.long_name as country, printf('%.1f %%', value) as \"Youth Literacy Rate\"\nfrom wdi_data, newest_data\n  join wdi_country c on c.country_code = wdi_data.country_code\nwhere wdi_data.indicator_code = newest_data.indicator_code and wdi_data.country_code = newest_data.country_code and wdi_data.year = newest_data.year\norder by value asc limit 20"]},{"t":"CodeBlock","c":[["",["sqlite-httpvfs-demo","diffstat","logPageReads"],[]],"select sum(length(long_definition)) from wdi_series;"]},{"t":"CodeBlock","c":[["",["sqlite-httpvfs-demo","diffstat","logPageReads"],[]],"select snippet(indicator_search, -1, '[[', ']]', ' [...] ', 32) as snippet, * from indicator_search\nwhere indicator_search match 'educatio*'\norder by rank\nlimit 10"]},{"t":"CodeBlock","c":[["",["sqlite-httpvfs-demo"],[]],"insert into dom (parent, tagName, textContent)\n    select 'ul#outtable1', 'li', long_name\n    from wdi_country"]},{"t":"Para","c":[{"t":"Str","c":"Output:"}]},{"t":"RawBlock","c":["html","\u003cul id=\"outtable1\"\u003e"]},{"t":"RawBlock","c":["html","\u003c/ul\u003e"]}]}}},"__N_SSG":true},"page":"/[year]/[post]","query":{"year":"2021","post":"hosting-sqlite-databases-on-github-pages"},"buildId":"T9YQ09UCMBVHVL7RI5TVj","assetPrefix":"/blog","isFallback":false,"dynamicIds":[9588,1005,505,1422,5889],"gsp":true}</script><script nomodule="" src="/blog/_next/static/chunks/polyfills-7f99f00b02c1734b8752.js"></script><script async="" src="/blog/_next/static/chunks/d9daaaae.44a96f54a4d072574e74.js"></script><script async="" src="/blog/_next/static/chunks/64.6dbe43f639fbac787b2a.js"></script><script async="" src="/blog/_next/static/chunks/422.2192f719644ccb1c7aab.js"></script><script src="/blog/_next/static/chunks/webpack-1524fbf28e610240b523.js" async=""></script><script src="/blog/_next/static/chunks/framework-f2b6a0e2c4347cd67771.js" async=""></script><script src="/blog/_next/static/chunks/commons-020e121c3d1a2701efcc.js" async=""></script><script src="/blog/_next/static/chunks/main-474bf01cc279f00c3383.js" async=""></script><script src="/blog/_next/static/chunks/pages/_app-1c7147ccd2d924ac2939.js" async=""></script><script src="/blog/_next/static/chunks/247-03c5f887de49cc28342f.js" async=""></script><script src="/blog/_next/static/chunks/601-fc839a56364e60ec4177.js" async=""></script><script src="/blog/_next/static/chunks/pages/%5Byear%5D/%5Bpost%5D-a5cad0c308dc8201870a.js" async=""></script><script src="/blog/_next/static/T9YQ09UCMBVHVL7RI5TVj/_buildManifest.js" async=""></script><script src="/blog/_next/static/T9YQ09UCMBVHVL7RI5TVj/_ssgManifest.js" async=""></script></body></html>